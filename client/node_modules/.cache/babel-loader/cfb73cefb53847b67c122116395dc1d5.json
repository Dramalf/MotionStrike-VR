{"ast":null,"code":"import { MathUtils, Spherical, Vector3 } from 'three';\n\nconst _lookDirection = new Vector3();\n\nconst _spherical = new Spherical();\n\nconst _target = new Vector3();\n\nclass FirstPersonControls {\n  constructor(object, domElement) {\n    if (domElement === undefined) {\n      console.warn('THREE.FirstPersonControls: The second parameter \"domElement\" is now mandatory.');\n      domElement = document;\n    }\n\n    this.object = object;\n    this.domElement = domElement; // API\n\n    this.enabled = true;\n    this.movementSpeed = 1.0;\n    this.lookSpeed = 0.005;\n    this.lookVertical = true;\n    this.autoForward = false;\n    this.activeLook = true;\n    this.heightSpeed = false;\n    this.heightCoef = 1.0;\n    this.heightMin = 0.0;\n    this.heightMax = 1.0;\n    this.constrainVertical = false;\n    this.verticalMin = 0;\n    this.verticalMax = Math.PI;\n    this.mouseDragOn = false; // internals\n\n    this.autoSpeedFactor = 0.0;\n    this.mouseX = 0;\n    this.mouseY = 0;\n    this.moveForward = false;\n    this.moveBackward = false;\n    this.moveLeft = false;\n    this.moveRight = false;\n    this.viewHalfX = 0;\n    this.viewHalfY = 0; // private variables\n\n    let lat = 0;\n    let lon = 0; //\n\n    this.handleResize = function () {\n      if (this.domElement === document) {\n        this.viewHalfX = window.innerWidth / 2;\n        this.viewHalfY = window.innerHeight / 2;\n      } else {\n        this.viewHalfX = this.domElement.offsetWidth / 2;\n        this.viewHalfY = this.domElement.offsetHeight / 2;\n      }\n    };\n\n    this.onMouseDown = function (event) {\n      if (this.domElement !== document) {\n        this.domElement.focus();\n      }\n\n      if (this.activeLook) {\n        switch (event.button) {\n          case 0:\n            this.moveForward = true;\n            break;\n\n          case 2:\n            this.moveBackward = true;\n            break;\n        }\n      }\n\n      this.mouseDragOn = true;\n    };\n\n    this.onMouseUp = function (event) {\n      if (this.activeLook) {\n        switch (event.button) {\n          case 0:\n            this.moveForward = false;\n            break;\n\n          case 2:\n            this.moveBackward = false;\n            break;\n        }\n      }\n\n      this.mouseDragOn = false;\n    };\n\n    this.onMouseMove = function (event) {\n      if (this.domElement === document) {\n        this.mouseX = event.pageX - this.viewHalfX;\n        this.mouseY = event.pageY - this.viewHalfY;\n      } else {\n        this.mouseX = event.pageX - this.domElement.offsetLeft - this.viewHalfX;\n        this.mouseY = event.pageY - this.domElement.offsetTop - this.viewHalfY;\n      }\n    };\n\n    this.onKeyDown = function (event) {\n      switch (event.code) {\n        case 'ArrowUp':\n        case 'KeyW':\n          this.moveForward = true;\n          break;\n\n        case 'ArrowLeft':\n        case 'KeyA':\n          this.moveLeft = true;\n          break;\n\n        case 'ArrowDown':\n        case 'KeyS':\n          this.moveBackward = true;\n          break;\n\n        case 'ArrowRight':\n        case 'KeyD':\n          this.moveRight = true;\n          break;\n\n        case 'KeyR':\n          this.moveUp = true;\n          break;\n\n        case 'KeyF':\n          this.moveDown = true;\n          break;\n      }\n    };\n\n    this.onKeyUp = function (event) {\n      switch (event.code) {\n        case 'ArrowUp':\n        case 'KeyW':\n          this.moveForward = false;\n          break;\n\n        case 'ArrowLeft':\n        case 'KeyA':\n          this.moveLeft = false;\n          break;\n\n        case 'ArrowDown':\n        case 'KeyS':\n          this.moveBackward = false;\n          break;\n\n        case 'ArrowRight':\n        case 'KeyD':\n          this.moveRight = false;\n          break;\n\n        case 'KeyR':\n          this.moveUp = false;\n          break;\n\n        case 'KeyF':\n          this.moveDown = false;\n          break;\n      }\n    };\n\n    this.lookAt = function (x, y, z) {\n      if (x.isVector3) {\n        _target.copy(x);\n      } else {\n        _target.set(x, y, z);\n      }\n\n      this.object.lookAt(_target);\n      setOrientation(this);\n      return this;\n    };\n\n    this.update = function () {\n      const targetPosition = new Vector3();\n      return function update(delta) {\n        if (this.enabled === false) return;\n\n        if (this.heightSpeed) {\n          const y = MathUtils.clamp(this.object.position.y, this.heightMin, this.heightMax);\n          const heightDelta = y - this.heightMin;\n          this.autoSpeedFactor = delta * (heightDelta * this.heightCoef);\n        } else {\n          this.autoSpeedFactor = 0.0;\n        }\n\n        const actualMoveSpeed = delta * this.movementSpeed;\n        if (this.moveForward || this.autoForward && !this.moveBackward) this.object.translateZ(-(actualMoveSpeed + this.autoSpeedFactor));\n        if (this.moveBackward) this.object.translateZ(actualMoveSpeed);\n        if (this.moveLeft) this.object.translateX(-actualMoveSpeed);\n        if (this.moveRight) this.object.translateX(actualMoveSpeed);\n        if (this.moveUp) this.object.translateY(actualMoveSpeed);\n        if (this.moveDown) this.object.translateY(-actualMoveSpeed);\n        let actualLookSpeed = delta * this.lookSpeed;\n\n        if (!this.activeLook) {\n          actualLookSpeed = 0;\n        }\n\n        let verticalLookRatio = 1;\n\n        if (this.constrainVertical) {\n          verticalLookRatio = Math.PI / (this.verticalMax - this.verticalMin);\n        }\n\n        lon -= this.mouseX * actualLookSpeed;\n        if (this.lookVertical) lat -= this.mouseY * actualLookSpeed * verticalLookRatio;\n        lat = Math.max(-85, Math.min(85, lat));\n        let phi = MathUtils.degToRad(90 - lat);\n        const theta = MathUtils.degToRad(lon);\n\n        if (this.constrainVertical) {\n          phi = MathUtils.mapLinear(phi, 0, Math.PI, this.verticalMin, this.verticalMax);\n        }\n\n        const position = this.object.position;\n        targetPosition.setFromSphericalCoords(1, phi, theta).add(position);\n        this.object.lookAt(targetPosition);\n      };\n    }();\n\n    this.dispose = function () {\n      this.domElement.removeEventListener('contextmenu', contextmenu);\n      this.domElement.removeEventListener('mousedown', _onMouseDown);\n      this.domElement.removeEventListener('mousemove', _onMouseMove);\n      this.domElement.removeEventListener('mouseup', _onMouseUp);\n      window.removeEventListener('keydown', _onKeyDown);\n      window.removeEventListener('keyup', _onKeyUp);\n    };\n\n    const _onMouseMove = this.onMouseMove.bind(this);\n\n    const _onMouseDown = this.onMouseDown.bind(this);\n\n    const _onMouseUp = this.onMouseUp.bind(this);\n\n    const _onKeyDown = this.onKeyDown.bind(this);\n\n    const _onKeyUp = this.onKeyUp.bind(this);\n\n    this.domElement.addEventListener('contextmenu', contextmenu);\n    this.domElement.addEventListener('mousemove', _onMouseMove);\n    this.domElement.addEventListener('mousedown', _onMouseDown);\n    this.domElement.addEventListener('mouseup', _onMouseUp);\n    window.addEventListener('keydown', _onKeyDown);\n    window.addEventListener('keyup', _onKeyUp);\n\n    function setOrientation(controls) {\n      const quaternion = controls.object.quaternion;\n\n      _lookDirection.set(0, 0, -1).applyQuaternion(quaternion);\n\n      _spherical.setFromVector3(_lookDirection);\n\n      lat = 90 - MathUtils.radToDeg(_spherical.phi);\n      lon = MathUtils.radToDeg(_spherical.theta);\n    }\n\n    this.handleResize();\n    setOrientation(this);\n  }\n\n}\n\nfunction contextmenu(event) {\n  event.preventDefault();\n}\n\nexport { FirstPersonControls };","map":{"version":3,"names":["MathUtils","Spherical","Vector3","_lookDirection","_spherical","_target","FirstPersonControls","constructor","object","domElement","undefined","console","warn","document","enabled","movementSpeed","lookSpeed","lookVertical","autoForward","activeLook","heightSpeed","heightCoef","heightMin","heightMax","constrainVertical","verticalMin","verticalMax","Math","PI","mouseDragOn","autoSpeedFactor","mouseX","mouseY","moveForward","moveBackward","moveLeft","moveRight","viewHalfX","viewHalfY","lat","lon","handleResize","window","innerWidth","innerHeight","offsetWidth","offsetHeight","onMouseDown","event","focus","button","onMouseUp","onMouseMove","pageX","pageY","offsetLeft","offsetTop","onKeyDown","code","moveUp","moveDown","onKeyUp","lookAt","x","y","z","isVector3","copy","set","setOrientation","update","targetPosition","delta","clamp","position","heightDelta","actualMoveSpeed","translateZ","translateX","translateY","actualLookSpeed","verticalLookRatio","max","min","phi","degToRad","theta","mapLinear","setFromSphericalCoords","add","dispose","removeEventListener","contextmenu","_onMouseDown","_onMouseMove","_onMouseUp","_onKeyDown","_onKeyUp","bind","addEventListener","controls","quaternion","applyQuaternion","setFromVector3","radToDeg","preventDefault"],"sources":["/home/malf/code/game-demo/client/node_modules/three/examples/jsm/controls/FirstPersonControls.js"],"sourcesContent":["import {\n\tMathUtils,\n\tSpherical,\n\tVector3\n} from 'three';\n\nconst _lookDirection = new Vector3();\nconst _spherical = new Spherical();\nconst _target = new Vector3();\n\nclass FirstPersonControls {\n\n\tconstructor( object, domElement ) {\n\n\t\tif ( domElement === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.FirstPersonControls: The second parameter \"domElement\" is now mandatory.' );\n\t\t\tdomElement = document;\n\n\t\t}\n\n\t\tthis.object = object;\n\t\tthis.domElement = domElement;\n\n\t\t// API\n\n\t\tthis.enabled = true;\n\n\t\tthis.movementSpeed = 1.0;\n\t\tthis.lookSpeed = 0.005;\n\n\t\tthis.lookVertical = true;\n\t\tthis.autoForward = false;\n\n\t\tthis.activeLook = true;\n\n\t\tthis.heightSpeed = false;\n\t\tthis.heightCoef = 1.0;\n\t\tthis.heightMin = 0.0;\n\t\tthis.heightMax = 1.0;\n\n\t\tthis.constrainVertical = false;\n\t\tthis.verticalMin = 0;\n\t\tthis.verticalMax = Math.PI;\n\n\t\tthis.mouseDragOn = false;\n\n\t\t// internals\n\n\t\tthis.autoSpeedFactor = 0.0;\n\n\t\tthis.mouseX = 0;\n\t\tthis.mouseY = 0;\n\n\t\tthis.moveForward = false;\n\t\tthis.moveBackward = false;\n\t\tthis.moveLeft = false;\n\t\tthis.moveRight = false;\n\n\t\tthis.viewHalfX = 0;\n\t\tthis.viewHalfY = 0;\n\n\t\t// private variables\n\n\t\tlet lat = 0;\n\t\tlet lon = 0;\n\n\t\t//\n\n\t\tthis.handleResize = function () {\n\n\t\t\tif ( this.domElement === document ) {\n\n\t\t\t\tthis.viewHalfX = window.innerWidth / 2;\n\t\t\t\tthis.viewHalfY = window.innerHeight / 2;\n\n\t\t\t} else {\n\n\t\t\t\tthis.viewHalfX = this.domElement.offsetWidth / 2;\n\t\t\t\tthis.viewHalfY = this.domElement.offsetHeight / 2;\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.onMouseDown = function ( event ) {\n\n\t\t\tif ( this.domElement !== document ) {\n\n\t\t\t\tthis.domElement.focus();\n\n\t\t\t}\n\n\t\t\tif ( this.activeLook ) {\n\n\t\t\t\tswitch ( event.button ) {\n\n\t\t\t\t\tcase 0: this.moveForward = true; break;\n\t\t\t\t\tcase 2: this.moveBackward = true; break;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.mouseDragOn = true;\n\n\t\t};\n\n\t\tthis.onMouseUp = function ( event ) {\n\n\t\t\tif ( this.activeLook ) {\n\n\t\t\t\tswitch ( event.button ) {\n\n\t\t\t\t\tcase 0: this.moveForward = false; break;\n\t\t\t\t\tcase 2: this.moveBackward = false; break;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.mouseDragOn = false;\n\n\t\t};\n\n\t\tthis.onMouseMove = function ( event ) {\n\n\t\t\tif ( this.domElement === document ) {\n\n\t\t\t\tthis.mouseX = event.pageX - this.viewHalfX;\n\t\t\t\tthis.mouseY = event.pageY - this.viewHalfY;\n\n\t\t\t} else {\n\n\t\t\t\tthis.mouseX = event.pageX - this.domElement.offsetLeft - this.viewHalfX;\n\t\t\t\tthis.mouseY = event.pageY - this.domElement.offsetTop - this.viewHalfY;\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.onKeyDown = function ( event ) {\n\n\t\t\tswitch ( event.code ) {\n\n\t\t\t\tcase 'ArrowUp':\n\t\t\t\tcase 'KeyW': this.moveForward = true; break;\n\n\t\t\t\tcase 'ArrowLeft':\n\t\t\t\tcase 'KeyA': this.moveLeft = true; break;\n\n\t\t\t\tcase 'ArrowDown':\n\t\t\t\tcase 'KeyS': this.moveBackward = true; break;\n\n\t\t\t\tcase 'ArrowRight':\n\t\t\t\tcase 'KeyD': this.moveRight = true; break;\n\n\t\t\t\tcase 'KeyR': this.moveUp = true; break;\n\t\t\t\tcase 'KeyF': this.moveDown = true; break;\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.onKeyUp = function ( event ) {\n\n\t\t\tswitch ( event.code ) {\n\n\t\t\t\tcase 'ArrowUp':\n\t\t\t\tcase 'KeyW': this.moveForward = false; break;\n\n\t\t\t\tcase 'ArrowLeft':\n\t\t\t\tcase 'KeyA': this.moveLeft = false; break;\n\n\t\t\t\tcase 'ArrowDown':\n\t\t\t\tcase 'KeyS': this.moveBackward = false; break;\n\n\t\t\t\tcase 'ArrowRight':\n\t\t\t\tcase 'KeyD': this.moveRight = false; break;\n\n\t\t\t\tcase 'KeyR': this.moveUp = false; break;\n\t\t\t\tcase 'KeyF': this.moveDown = false; break;\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.lookAt = function ( x, y, z ) {\n\n\t\t\tif ( x.isVector3 ) {\n\n\t\t\t\t_target.copy( x );\n\n\t\t\t} else {\n\n\t\t\t\t_target.set( x, y, z );\n\n\t\t\t}\n\n\t\t\tthis.object.lookAt( _target );\n\n\t\t\tsetOrientation( this );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t\tthis.update = function () {\n\n\t\t\tconst targetPosition = new Vector3();\n\n\t\t\treturn function update( delta ) {\n\n\t\t\t\tif ( this.enabled === false ) return;\n\n\t\t\t\tif ( this.heightSpeed ) {\n\n\t\t\t\t\tconst y = MathUtils.clamp( this.object.position.y, this.heightMin, this.heightMax );\n\t\t\t\t\tconst heightDelta = y - this.heightMin;\n\n\t\t\t\t\tthis.autoSpeedFactor = delta * ( heightDelta * this.heightCoef );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis.autoSpeedFactor = 0.0;\n\n\t\t\t\t}\n\n\t\t\t\tconst actualMoveSpeed = delta * this.movementSpeed;\n\n\t\t\t\tif ( this.moveForward || ( this.autoForward && ! this.moveBackward ) ) this.object.translateZ( - ( actualMoveSpeed + this.autoSpeedFactor ) );\n\t\t\t\tif ( this.moveBackward ) this.object.translateZ( actualMoveSpeed );\n\n\t\t\t\tif ( this.moveLeft ) this.object.translateX( - actualMoveSpeed );\n\t\t\t\tif ( this.moveRight ) this.object.translateX( actualMoveSpeed );\n\n\t\t\t\tif ( this.moveUp ) this.object.translateY( actualMoveSpeed );\n\t\t\t\tif ( this.moveDown ) this.object.translateY( - actualMoveSpeed );\n\n\t\t\t\tlet actualLookSpeed = delta * this.lookSpeed;\n\n\t\t\t\tif ( ! this.activeLook ) {\n\n\t\t\t\t\tactualLookSpeed = 0;\n\n\t\t\t\t}\n\n\t\t\t\tlet verticalLookRatio = 1;\n\n\t\t\t\tif ( this.constrainVertical ) {\n\n\t\t\t\t\tverticalLookRatio = Math.PI / ( this.verticalMax - this.verticalMin );\n\n\t\t\t\t}\n\n\t\t\t\tlon -= this.mouseX * actualLookSpeed;\n\t\t\t\tif ( this.lookVertical ) lat -= this.mouseY * actualLookSpeed * verticalLookRatio;\n\n\t\t\t\tlat = Math.max( - 85, Math.min( 85, lat ) );\n\n\t\t\t\tlet phi = MathUtils.degToRad( 90 - lat );\n\t\t\t\tconst theta = MathUtils.degToRad( lon );\n\n\t\t\t\tif ( this.constrainVertical ) {\n\n\t\t\t\t\tphi = MathUtils.mapLinear( phi, 0, Math.PI, this.verticalMin, this.verticalMax );\n\n\t\t\t\t}\n\n\t\t\t\tconst position = this.object.position;\n\n\t\t\t\ttargetPosition.setFromSphericalCoords( 1, phi, theta ).add( position );\n\n\t\t\t\tthis.object.lookAt( targetPosition );\n\n\t\t\t};\n\n\t\t}();\n\n\t\tthis.dispose = function () {\n\n\t\t\tthis.domElement.removeEventListener( 'contextmenu', contextmenu );\n\t\t\tthis.domElement.removeEventListener( 'mousedown', _onMouseDown );\n\t\t\tthis.domElement.removeEventListener( 'mousemove', _onMouseMove );\n\t\t\tthis.domElement.removeEventListener( 'mouseup', _onMouseUp );\n\n\t\t\twindow.removeEventListener( 'keydown', _onKeyDown );\n\t\t\twindow.removeEventListener( 'keyup', _onKeyUp );\n\n\t\t};\n\n\t\tconst _onMouseMove = this.onMouseMove.bind( this );\n\t\tconst _onMouseDown = this.onMouseDown.bind( this );\n\t\tconst _onMouseUp = this.onMouseUp.bind( this );\n\t\tconst _onKeyDown = this.onKeyDown.bind( this );\n\t\tconst _onKeyUp = this.onKeyUp.bind( this );\n\n\t\tthis.domElement.addEventListener( 'contextmenu', contextmenu );\n\t\tthis.domElement.addEventListener( 'mousemove', _onMouseMove );\n\t\tthis.domElement.addEventListener( 'mousedown', _onMouseDown );\n\t\tthis.domElement.addEventListener( 'mouseup', _onMouseUp );\n\n\t\twindow.addEventListener( 'keydown', _onKeyDown );\n\t\twindow.addEventListener( 'keyup', _onKeyUp );\n\n\t\tfunction setOrientation( controls ) {\n\n\t\t\tconst quaternion = controls.object.quaternion;\n\n\t\t\t_lookDirection.set( 0, 0, - 1 ).applyQuaternion( quaternion );\n\t\t\t_spherical.setFromVector3( _lookDirection );\n\n\t\t\tlat = 90 - MathUtils.radToDeg( _spherical.phi );\n\t\t\tlon = MathUtils.radToDeg( _spherical.theta );\n\n\t\t}\n\n\t\tthis.handleResize();\n\n\t\tsetOrientation( this );\n\n\t}\n\n}\n\nfunction contextmenu( event ) {\n\n\tevent.preventDefault();\n\n}\n\nexport { FirstPersonControls };\n"],"mappings":"AAAA,SACCA,SADD,EAECC,SAFD,EAGCC,OAHD,QAIO,OAJP;;AAMA,MAAMC,cAAc,GAAG,IAAID,OAAJ,EAAvB;;AACA,MAAME,UAAU,GAAG,IAAIH,SAAJ,EAAnB;;AACA,MAAMI,OAAO,GAAG,IAAIH,OAAJ,EAAhB;;AAEA,MAAMI,mBAAN,CAA0B;EAEzBC,WAAW,CAAEC,MAAF,EAAUC,UAAV,EAAuB;IAEjC,IAAKA,UAAU,KAAKC,SAApB,EAAgC;MAE/BC,OAAO,CAACC,IAAR,CAAc,gFAAd;MACAH,UAAU,GAAGI,QAAb;IAEA;;IAED,KAAKL,MAAL,GAAcA,MAAd;IACA,KAAKC,UAAL,GAAkBA,UAAlB,CAViC,CAYjC;;IAEA,KAAKK,OAAL,GAAe,IAAf;IAEA,KAAKC,aAAL,GAAqB,GAArB;IACA,KAAKC,SAAL,GAAiB,KAAjB;IAEA,KAAKC,YAAL,GAAoB,IAApB;IACA,KAAKC,WAAL,GAAmB,KAAnB;IAEA,KAAKC,UAAL,GAAkB,IAAlB;IAEA,KAAKC,WAAL,GAAmB,KAAnB;IACA,KAAKC,UAAL,GAAkB,GAAlB;IACA,KAAKC,SAAL,GAAiB,GAAjB;IACA,KAAKC,SAAL,GAAiB,GAAjB;IAEA,KAAKC,iBAAL,GAAyB,KAAzB;IACA,KAAKC,WAAL,GAAmB,CAAnB;IACA,KAAKC,WAAL,GAAmBC,IAAI,CAACC,EAAxB;IAEA,KAAKC,WAAL,GAAmB,KAAnB,CAjCiC,CAmCjC;;IAEA,KAAKC,eAAL,GAAuB,GAAvB;IAEA,KAAKC,MAAL,GAAc,CAAd;IACA,KAAKC,MAAL,GAAc,CAAd;IAEA,KAAKC,WAAL,GAAmB,KAAnB;IACA,KAAKC,YAAL,GAAoB,KAApB;IACA,KAAKC,QAAL,GAAgB,KAAhB;IACA,KAAKC,SAAL,GAAiB,KAAjB;IAEA,KAAKC,SAAL,GAAiB,CAAjB;IACA,KAAKC,SAAL,GAAiB,CAAjB,CAhDiC,CAkDjC;;IAEA,IAAIC,GAAG,GAAG,CAAV;IACA,IAAIC,GAAG,GAAG,CAAV,CArDiC,CAuDjC;;IAEA,KAAKC,YAAL,GAAoB,YAAY;MAE/B,IAAK,KAAKhC,UAAL,KAAoBI,QAAzB,EAAoC;QAEnC,KAAKwB,SAAL,GAAiBK,MAAM,CAACC,UAAP,GAAoB,CAArC;QACA,KAAKL,SAAL,GAAiBI,MAAM,CAACE,WAAP,GAAqB,CAAtC;MAEA,CALD,MAKO;QAEN,KAAKP,SAAL,GAAiB,KAAK5B,UAAL,CAAgBoC,WAAhB,GAA8B,CAA/C;QACA,KAAKP,SAAL,GAAiB,KAAK7B,UAAL,CAAgBqC,YAAhB,GAA+B,CAAhD;MAEA;IAED,CAdD;;IAgBA,KAAKC,WAAL,GAAmB,UAAWC,KAAX,EAAmB;MAErC,IAAK,KAAKvC,UAAL,KAAoBI,QAAzB,EAAoC;QAEnC,KAAKJ,UAAL,CAAgBwC,KAAhB;MAEA;;MAED,IAAK,KAAK9B,UAAV,EAAuB;QAEtB,QAAS6B,KAAK,CAACE,MAAf;UAEC,KAAK,CAAL;YAAQ,KAAKjB,WAAL,GAAmB,IAAnB;YAAyB;;UACjC,KAAK,CAAL;YAAQ,KAAKC,YAAL,GAAoB,IAApB;YAA0B;QAHnC;MAOA;;MAED,KAAKL,WAAL,GAAmB,IAAnB;IAEA,CArBD;;IAuBA,KAAKsB,SAAL,GAAiB,UAAWH,KAAX,EAAmB;MAEnC,IAAK,KAAK7B,UAAV,EAAuB;QAEtB,QAAS6B,KAAK,CAACE,MAAf;UAEC,KAAK,CAAL;YAAQ,KAAKjB,WAAL,GAAmB,KAAnB;YAA0B;;UAClC,KAAK,CAAL;YAAQ,KAAKC,YAAL,GAAoB,KAApB;YAA2B;QAHpC;MAOA;;MAED,KAAKL,WAAL,GAAmB,KAAnB;IAEA,CAfD;;IAiBA,KAAKuB,WAAL,GAAmB,UAAWJ,KAAX,EAAmB;MAErC,IAAK,KAAKvC,UAAL,KAAoBI,QAAzB,EAAoC;QAEnC,KAAKkB,MAAL,GAAciB,KAAK,CAACK,KAAN,GAAc,KAAKhB,SAAjC;QACA,KAAKL,MAAL,GAAcgB,KAAK,CAACM,KAAN,GAAc,KAAKhB,SAAjC;MAEA,CALD,MAKO;QAEN,KAAKP,MAAL,GAAciB,KAAK,CAACK,KAAN,GAAc,KAAK5C,UAAL,CAAgB8C,UAA9B,GAA2C,KAAKlB,SAA9D;QACA,KAAKL,MAAL,GAAcgB,KAAK,CAACM,KAAN,GAAc,KAAK7C,UAAL,CAAgB+C,SAA9B,GAA0C,KAAKlB,SAA7D;MAEA;IAED,CAdD;;IAgBA,KAAKmB,SAAL,GAAiB,UAAWT,KAAX,EAAmB;MAEnC,QAASA,KAAK,CAACU,IAAf;QAEC,KAAK,SAAL;QACA,KAAK,MAAL;UAAa,KAAKzB,WAAL,GAAmB,IAAnB;UAAyB;;QAEtC,KAAK,WAAL;QACA,KAAK,MAAL;UAAa,KAAKE,QAAL,GAAgB,IAAhB;UAAsB;;QAEnC,KAAK,WAAL;QACA,KAAK,MAAL;UAAa,KAAKD,YAAL,GAAoB,IAApB;UAA0B;;QAEvC,KAAK,YAAL;QACA,KAAK,MAAL;UAAa,KAAKE,SAAL,GAAiB,IAAjB;UAAuB;;QAEpC,KAAK,MAAL;UAAa,KAAKuB,MAAL,GAAc,IAAd;UAAoB;;QACjC,KAAK,MAAL;UAAa,KAAKC,QAAL,GAAgB,IAAhB;UAAsB;MAfpC;IAmBA,CArBD;;IAuBA,KAAKC,OAAL,GAAe,UAAWb,KAAX,EAAmB;MAEjC,QAASA,KAAK,CAACU,IAAf;QAEC,KAAK,SAAL;QACA,KAAK,MAAL;UAAa,KAAKzB,WAAL,GAAmB,KAAnB;UAA0B;;QAEvC,KAAK,WAAL;QACA,KAAK,MAAL;UAAa,KAAKE,QAAL,GAAgB,KAAhB;UAAuB;;QAEpC,KAAK,WAAL;QACA,KAAK,MAAL;UAAa,KAAKD,YAAL,GAAoB,KAApB;UAA2B;;QAExC,KAAK,YAAL;QACA,KAAK,MAAL;UAAa,KAAKE,SAAL,GAAiB,KAAjB;UAAwB;;QAErC,KAAK,MAAL;UAAa,KAAKuB,MAAL,GAAc,KAAd;UAAqB;;QAClC,KAAK,MAAL;UAAa,KAAKC,QAAL,GAAgB,KAAhB;UAAuB;MAfrC;IAmBA,CArBD;;IAuBA,KAAKE,MAAL,GAAc,UAAWC,CAAX,EAAcC,CAAd,EAAiBC,CAAjB,EAAqB;MAElC,IAAKF,CAAC,CAACG,SAAP,EAAmB;QAElB7D,OAAO,CAAC8D,IAAR,CAAcJ,CAAd;MAEA,CAJD,MAIO;QAEN1D,OAAO,CAAC+D,GAAR,CAAaL,CAAb,EAAgBC,CAAhB,EAAmBC,CAAnB;MAEA;;MAED,KAAKzD,MAAL,CAAYsD,MAAZ,CAAoBzD,OAApB;MAEAgE,cAAc,CAAE,IAAF,CAAd;MAEA,OAAO,IAAP;IAEA,CAlBD;;IAoBA,KAAKC,MAAL,GAAc,YAAY;MAEzB,MAAMC,cAAc,GAAG,IAAIrE,OAAJ,EAAvB;MAEA,OAAO,SAASoE,MAAT,CAAiBE,KAAjB,EAAyB;QAE/B,IAAK,KAAK1D,OAAL,KAAiB,KAAtB,EAA8B;;QAE9B,IAAK,KAAKM,WAAV,EAAwB;UAEvB,MAAM4C,CAAC,GAAGhE,SAAS,CAACyE,KAAV,CAAiB,KAAKjE,MAAL,CAAYkE,QAAZ,CAAqBV,CAAtC,EAAyC,KAAK1C,SAA9C,EAAyD,KAAKC,SAA9D,CAAV;UACA,MAAMoD,WAAW,GAAGX,CAAC,GAAG,KAAK1C,SAA7B;UAEA,KAAKQ,eAAL,GAAuB0C,KAAK,IAAKG,WAAW,GAAG,KAAKtD,UAAxB,CAA5B;QAEA,CAPD,MAOO;UAEN,KAAKS,eAAL,GAAuB,GAAvB;QAEA;;QAED,MAAM8C,eAAe,GAAGJ,KAAK,GAAG,KAAKzD,aAArC;QAEA,IAAK,KAAKkB,WAAL,IAAsB,KAAKf,WAAL,IAAoB,CAAE,KAAKgB,YAAtD,EAAuE,KAAK1B,MAAL,CAAYqE,UAAZ,CAAwB,EAAID,eAAe,GAAG,KAAK9C,eAA3B,CAAxB;QACvE,IAAK,KAAKI,YAAV,EAAyB,KAAK1B,MAAL,CAAYqE,UAAZ,CAAwBD,eAAxB;QAEzB,IAAK,KAAKzC,QAAV,EAAqB,KAAK3B,MAAL,CAAYsE,UAAZ,CAAwB,CAAEF,eAA1B;QACrB,IAAK,KAAKxC,SAAV,EAAsB,KAAK5B,MAAL,CAAYsE,UAAZ,CAAwBF,eAAxB;QAEtB,IAAK,KAAKjB,MAAV,EAAmB,KAAKnD,MAAL,CAAYuE,UAAZ,CAAwBH,eAAxB;QACnB,IAAK,KAAKhB,QAAV,EAAqB,KAAKpD,MAAL,CAAYuE,UAAZ,CAAwB,CAAEH,eAA1B;QAErB,IAAII,eAAe,GAAGR,KAAK,GAAG,KAAKxD,SAAnC;;QAEA,IAAK,CAAE,KAAKG,UAAZ,EAAyB;UAExB6D,eAAe,GAAG,CAAlB;QAEA;;QAED,IAAIC,iBAAiB,GAAG,CAAxB;;QAEA,IAAK,KAAKzD,iBAAV,EAA8B;UAE7ByD,iBAAiB,GAAGtD,IAAI,CAACC,EAAL,IAAY,KAAKF,WAAL,GAAmB,KAAKD,WAApC,CAApB;QAEA;;QAEDe,GAAG,IAAI,KAAKT,MAAL,GAAciD,eAArB;QACA,IAAK,KAAK/D,YAAV,EAAyBsB,GAAG,IAAI,KAAKP,MAAL,GAAcgD,eAAd,GAAgCC,iBAAvC;QAEzB1C,GAAG,GAAGZ,IAAI,CAACuD,GAAL,CAAU,CAAE,EAAZ,EAAgBvD,IAAI,CAACwD,GAAL,CAAU,EAAV,EAAc5C,GAAd,CAAhB,CAAN;QAEA,IAAI6C,GAAG,GAAGpF,SAAS,CAACqF,QAAV,CAAoB,KAAK9C,GAAzB,CAAV;QACA,MAAM+C,KAAK,GAAGtF,SAAS,CAACqF,QAAV,CAAoB7C,GAApB,CAAd;;QAEA,IAAK,KAAKhB,iBAAV,EAA8B;UAE7B4D,GAAG,GAAGpF,SAAS,CAACuF,SAAV,CAAqBH,GAArB,EAA0B,CAA1B,EAA6BzD,IAAI,CAACC,EAAlC,EAAsC,KAAKH,WAA3C,EAAwD,KAAKC,WAA7D,CAAN;QAEA;;QAED,MAAMgD,QAAQ,GAAG,KAAKlE,MAAL,CAAYkE,QAA7B;QAEAH,cAAc,CAACiB,sBAAf,CAAuC,CAAvC,EAA0CJ,GAA1C,EAA+CE,KAA/C,EAAuDG,GAAvD,CAA4Df,QAA5D;QAEA,KAAKlE,MAAL,CAAYsD,MAAZ,CAAoBS,cAApB;MAEA,CAhED;IAkEA,CAtEa,EAAd;;IAwEA,KAAKmB,OAAL,GAAe,YAAY;MAE1B,KAAKjF,UAAL,CAAgBkF,mBAAhB,CAAqC,aAArC,EAAoDC,WAApD;MACA,KAAKnF,UAAL,CAAgBkF,mBAAhB,CAAqC,WAArC,EAAkDE,YAAlD;MACA,KAAKpF,UAAL,CAAgBkF,mBAAhB,CAAqC,WAArC,EAAkDG,YAAlD;MACA,KAAKrF,UAAL,CAAgBkF,mBAAhB,CAAqC,SAArC,EAAgDI,UAAhD;MAEArD,MAAM,CAACiD,mBAAP,CAA4B,SAA5B,EAAuCK,UAAvC;MACAtD,MAAM,CAACiD,mBAAP,CAA4B,OAA5B,EAAqCM,QAArC;IAEA,CAVD;;IAYA,MAAMH,YAAY,GAAG,KAAK1C,WAAL,CAAiB8C,IAAjB,CAAuB,IAAvB,CAArB;;IACA,MAAML,YAAY,GAAG,KAAK9C,WAAL,CAAiBmD,IAAjB,CAAuB,IAAvB,CAArB;;IACA,MAAMH,UAAU,GAAG,KAAK5C,SAAL,CAAe+C,IAAf,CAAqB,IAArB,CAAnB;;IACA,MAAMF,UAAU,GAAG,KAAKvC,SAAL,CAAeyC,IAAf,CAAqB,IAArB,CAAnB;;IACA,MAAMD,QAAQ,GAAG,KAAKpC,OAAL,CAAaqC,IAAb,CAAmB,IAAnB,CAAjB;;IAEA,KAAKzF,UAAL,CAAgB0F,gBAAhB,CAAkC,aAAlC,EAAiDP,WAAjD;IACA,KAAKnF,UAAL,CAAgB0F,gBAAhB,CAAkC,WAAlC,EAA+CL,YAA/C;IACA,KAAKrF,UAAL,CAAgB0F,gBAAhB,CAAkC,WAAlC,EAA+CN,YAA/C;IACA,KAAKpF,UAAL,CAAgB0F,gBAAhB,CAAkC,SAAlC,EAA6CJ,UAA7C;IAEArD,MAAM,CAACyD,gBAAP,CAAyB,SAAzB,EAAoCH,UAApC;IACAtD,MAAM,CAACyD,gBAAP,CAAyB,OAAzB,EAAkCF,QAAlC;;IAEA,SAAS5B,cAAT,CAAyB+B,QAAzB,EAAoC;MAEnC,MAAMC,UAAU,GAAGD,QAAQ,CAAC5F,MAAT,CAAgB6F,UAAnC;;MAEAlG,cAAc,CAACiE,GAAf,CAAoB,CAApB,EAAuB,CAAvB,EAA0B,CAAE,CAA5B,EAAgCkC,eAAhC,CAAiDD,UAAjD;;MACAjG,UAAU,CAACmG,cAAX,CAA2BpG,cAA3B;;MAEAoC,GAAG,GAAG,KAAKvC,SAAS,CAACwG,QAAV,CAAoBpG,UAAU,CAACgF,GAA/B,CAAX;MACA5C,GAAG,GAAGxC,SAAS,CAACwG,QAAV,CAAoBpG,UAAU,CAACkF,KAA/B,CAAN;IAEA;;IAED,KAAK7C,YAAL;IAEA4B,cAAc,CAAE,IAAF,CAAd;EAEA;;AAvTwB;;AA2T1B,SAASuB,WAAT,CAAsB5C,KAAtB,EAA8B;EAE7BA,KAAK,CAACyD,cAAN;AAEA;;AAED,SAASnG,mBAAT"},"metadata":{},"sourceType":"module"}