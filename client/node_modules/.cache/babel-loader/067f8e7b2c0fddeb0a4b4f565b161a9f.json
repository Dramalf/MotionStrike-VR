{"ast":null,"code":"var Stats = function () {\n  var mode = 0;\n  var container = document.createElement('div');\n  container.style.cssText = 'position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000';\n  container.addEventListener('click', function (event) {\n    event.preventDefault();\n    showPanel(++mode % container.children.length);\n  }, false); //\n\n  function addPanel(panel) {\n    container.appendChild(panel.dom);\n    return panel;\n  }\n\n  function showPanel(id) {\n    for (var i = 0; i < container.children.length; i++) {\n      container.children[i].style.display = i === id ? 'block' : 'none';\n    }\n\n    mode = id;\n  } //\n\n\n  var beginTime = (performance || Date).now(),\n      prevTime = beginTime,\n      frames = 0;\n  var fpsPanel = addPanel(new Stats.Panel('FPS', '#0ff', '#002'));\n  var msPanel = addPanel(new Stats.Panel('MS', '#0f0', '#020'));\n\n  if (self.performance && self.performance.memory) {\n    var memPanel = addPanel(new Stats.Panel('MB', '#f08', '#201'));\n  }\n\n  showPanel(0);\n  return {\n    REVISION: 16,\n    dom: container,\n    addPanel: addPanel,\n    showPanel: showPanel,\n    begin: function () {\n      beginTime = (performance || Date).now();\n    },\n    end: function () {\n      frames++;\n      var time = (performance || Date).now();\n      msPanel.update(time - beginTime, 200);\n\n      if (time >= prevTime + 1000) {\n        fpsPanel.update(frames * 1000 / (time - prevTime), 100);\n        prevTime = time;\n        frames = 0;\n\n        if (memPanel) {\n          var memory = performance.memory;\n          memPanel.update(memory.usedJSHeapSize / 1048576, memory.jsHeapSizeLimit / 1048576);\n        }\n      }\n\n      return time;\n    },\n    update: function () {\n      beginTime = this.end();\n    },\n    // Backwards Compatibility\n    domElement: container,\n    setMode: showPanel\n  };\n};\n\nStats.Panel = function (name, fg, bg) {\n  var min = Infinity,\n      max = 0,\n      round = Math.round;\n  var PR = round(window.devicePixelRatio || 1);\n  var WIDTH = 80 * PR,\n      HEIGHT = 48 * PR,\n      TEXT_X = 3 * PR,\n      TEXT_Y = 2 * PR,\n      GRAPH_X = 3 * PR,\n      GRAPH_Y = 15 * PR,\n      GRAPH_WIDTH = 74 * PR,\n      GRAPH_HEIGHT = 30 * PR;\n  var canvas = document.createElement('canvas');\n  canvas.width = WIDTH;\n  canvas.height = HEIGHT;\n  canvas.style.cssText = 'width:80px;height:48px';\n  var context = canvas.getContext('2d');\n  context.font = 'bold ' + 9 * PR + 'px Helvetica,Arial,sans-serif';\n  context.textBaseline = 'top';\n  context.fillStyle = bg;\n  context.fillRect(0, 0, WIDTH, HEIGHT);\n  context.fillStyle = fg;\n  context.fillText(name, TEXT_X, TEXT_Y);\n  context.fillRect(GRAPH_X, GRAPH_Y, GRAPH_WIDTH, GRAPH_HEIGHT);\n  context.fillStyle = bg;\n  context.globalAlpha = 0.9;\n  context.fillRect(GRAPH_X, GRAPH_Y, GRAPH_WIDTH, GRAPH_HEIGHT);\n  return {\n    dom: canvas,\n    update: function (value, maxValue) {\n      min = Math.min(min, value);\n      max = Math.max(max, value);\n      context.fillStyle = bg;\n      context.globalAlpha = 1;\n      context.fillRect(0, 0, WIDTH, GRAPH_Y);\n      context.fillStyle = fg;\n      context.fillText(round(value) + ' ' + name + ' (' + round(min) + '-' + round(max) + ')', TEXT_X, TEXT_Y);\n      context.drawImage(canvas, GRAPH_X + PR, GRAPH_Y, GRAPH_WIDTH - PR, GRAPH_HEIGHT, GRAPH_X, GRAPH_Y, GRAPH_WIDTH - PR, GRAPH_HEIGHT);\n      context.fillRect(GRAPH_X + GRAPH_WIDTH - PR, GRAPH_Y, PR, GRAPH_HEIGHT);\n      context.fillStyle = bg;\n      context.globalAlpha = 0.9;\n      context.fillRect(GRAPH_X + GRAPH_WIDTH - PR, GRAPH_Y, PR, round((1 - value / maxValue) * GRAPH_HEIGHT));\n    }\n  };\n};\n\nexport default Stats;","map":{"version":3,"names":["Stats","mode","container","document","createElement","style","cssText","addEventListener","event","preventDefault","showPanel","children","length","addPanel","panel","appendChild","dom","id","i","display","beginTime","performance","Date","now","prevTime","frames","fpsPanel","Panel","msPanel","self","memory","memPanel","REVISION","begin","end","time","update","usedJSHeapSize","jsHeapSizeLimit","domElement","setMode","name","fg","bg","min","Infinity","max","round","Math","PR","window","devicePixelRatio","WIDTH","HEIGHT","TEXT_X","TEXT_Y","GRAPH_X","GRAPH_Y","GRAPH_WIDTH","GRAPH_HEIGHT","canvas","width","height","context","getContext","font","textBaseline","fillStyle","fillRect","fillText","globalAlpha","value","maxValue","drawImage"],"sources":["/home/malf/code/game-demo/client/node_modules/three/examples/jsm/libs/stats.module.js"],"sourcesContent":["var Stats = function () {\n\n\tvar mode = 0;\n\n\tvar container = document.createElement( 'div' );\n\tcontainer.style.cssText = 'position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000';\n\tcontainer.addEventListener( 'click', function ( event ) {\n\n\t\tevent.preventDefault();\n\t\tshowPanel( ++ mode % container.children.length );\n\n\t}, false );\n\n\t//\n\n\tfunction addPanel( panel ) {\n\n\t\tcontainer.appendChild( panel.dom );\n\t\treturn panel;\n\n\t}\n\n\tfunction showPanel( id ) {\n\n\t\tfor ( var i = 0; i < container.children.length; i ++ ) {\n\n\t\t\tcontainer.children[ i ].style.display = i === id ? 'block' : 'none';\n\n\t\t}\n\n\t\tmode = id;\n\n\t}\n\n\t//\n\n\tvar beginTime = ( performance || Date ).now(), prevTime = beginTime, frames = 0;\n\n\tvar fpsPanel = addPanel( new Stats.Panel( 'FPS', '#0ff', '#002' ) );\n\tvar msPanel = addPanel( new Stats.Panel( 'MS', '#0f0', '#020' ) );\n\n\tif ( self.performance && self.performance.memory ) {\n\n\t\tvar memPanel = addPanel( new Stats.Panel( 'MB', '#f08', '#201' ) );\n\n\t}\n\n\tshowPanel( 0 );\n\n\treturn {\n\n\t\tREVISION: 16,\n\n\t\tdom: container,\n\n\t\taddPanel: addPanel,\n\t\tshowPanel: showPanel,\n\n\t\tbegin: function () {\n\n\t\t\tbeginTime = ( performance || Date ).now();\n\n\t\t},\n\n\t\tend: function () {\n\n\t\t\tframes ++;\n\n\t\t\tvar time = ( performance || Date ).now();\n\n\t\t\tmsPanel.update( time - beginTime, 200 );\n\n\t\t\tif ( time >= prevTime + 1000 ) {\n\n\t\t\t\tfpsPanel.update( ( frames * 1000 ) / ( time - prevTime ), 100 );\n\n\t\t\t\tprevTime = time;\n\t\t\t\tframes = 0;\n\n\t\t\t\tif ( memPanel ) {\n\n\t\t\t\t\tvar memory = performance.memory;\n\t\t\t\t\tmemPanel.update( memory.usedJSHeapSize / 1048576, memory.jsHeapSizeLimit / 1048576 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn time;\n\n\t\t},\n\n\t\tupdate: function () {\n\n\t\t\tbeginTime = this.end();\n\n\t\t},\n\n\t\t// Backwards Compatibility\n\n\t\tdomElement: container,\n\t\tsetMode: showPanel\n\n\t};\n\n};\n\nStats.Panel = function ( name, fg, bg ) {\n\n\tvar min = Infinity, max = 0, round = Math.round;\n\tvar PR = round( window.devicePixelRatio || 1 );\n\n\tvar WIDTH = 80 * PR, HEIGHT = 48 * PR,\n\t\tTEXT_X = 3 * PR, TEXT_Y = 2 * PR,\n\t\tGRAPH_X = 3 * PR, GRAPH_Y = 15 * PR,\n\t\tGRAPH_WIDTH = 74 * PR, GRAPH_HEIGHT = 30 * PR;\n\n\tvar canvas = document.createElement( 'canvas' );\n\tcanvas.width = WIDTH;\n\tcanvas.height = HEIGHT;\n\tcanvas.style.cssText = 'width:80px;height:48px';\n\n\tvar context = canvas.getContext( '2d' );\n\tcontext.font = 'bold ' + ( 9 * PR ) + 'px Helvetica,Arial,sans-serif';\n\tcontext.textBaseline = 'top';\n\n\tcontext.fillStyle = bg;\n\tcontext.fillRect( 0, 0, WIDTH, HEIGHT );\n\n\tcontext.fillStyle = fg;\n\tcontext.fillText( name, TEXT_X, TEXT_Y );\n\tcontext.fillRect( GRAPH_X, GRAPH_Y, GRAPH_WIDTH, GRAPH_HEIGHT );\n\n\tcontext.fillStyle = bg;\n\tcontext.globalAlpha = 0.9;\n\tcontext.fillRect( GRAPH_X, GRAPH_Y, GRAPH_WIDTH, GRAPH_HEIGHT );\n\n\treturn {\n\n\t\tdom: canvas,\n\n\t\tupdate: function ( value, maxValue ) {\n\n\t\t\tmin = Math.min( min, value );\n\t\t\tmax = Math.max( max, value );\n\n\t\t\tcontext.fillStyle = bg;\n\t\t\tcontext.globalAlpha = 1;\n\t\t\tcontext.fillRect( 0, 0, WIDTH, GRAPH_Y );\n\t\t\tcontext.fillStyle = fg;\n\t\t\tcontext.fillText( round( value ) + ' ' + name + ' (' + round( min ) + '-' + round( max ) + ')', TEXT_X, TEXT_Y );\n\n\t\t\tcontext.drawImage( canvas, GRAPH_X + PR, GRAPH_Y, GRAPH_WIDTH - PR, GRAPH_HEIGHT, GRAPH_X, GRAPH_Y, GRAPH_WIDTH - PR, GRAPH_HEIGHT );\n\n\t\t\tcontext.fillRect( GRAPH_X + GRAPH_WIDTH - PR, GRAPH_Y, PR, GRAPH_HEIGHT );\n\n\t\t\tcontext.fillStyle = bg;\n\t\t\tcontext.globalAlpha = 0.9;\n\t\t\tcontext.fillRect( GRAPH_X + GRAPH_WIDTH - PR, GRAPH_Y, PR, round( ( 1 - ( value / maxValue ) ) * GRAPH_HEIGHT ) );\n\n\t\t}\n\n\t};\n\n};\n\nexport default Stats;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}